
# language: python

# matrix:
#     include:

#         - os: osx
#           language: generic
#           env: TEST_NAME=01_sanity

#         # - os: osx
#         #   language: generic
#         #   env: TEST_NAME=02_install_twice

#         # - os: osx
#         #   language: generic
#         #   env: TEST_NAME=03_install_uninstall

#         # - os: osx
#         #   language: generic
#         #   env: TEST_NAME=04_uninstall

#         # - os: osx
#         #   language: generic
#         #   env: TEST_NAME=05_outputs

# install:
#     - ./.travis/install.sh
#     - pip install ansible
    
# script: 
#   - ansible --version
#   - cd $TRAVIS_BUILD_DIR/tests/$TEST_NAME && ./start.sh

# cache: pip

sudo: required
language: generic

env:
  - IMAGE_NAME=centos:7 TEST_NAME=01_sanity

services:
  - postgresql

addons:
  postgresql: "10"
  apt:
    packages:
    - postgresql-10
    - postgresql-client-10

install:
  - ./.travis/install.sh
  - pip install pyOpenSSL ndg-httpsclient pyasn1
  - pip install ansible

before_script:
  - psql -c 'create database cloudserver;' -U postgres

script:
  - ansible --version
  - cd $TRAVIS_BUILD_DIR/tests/$TEST_NAME && ./start.sh
